(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{21:function(e,t,c){},22:function(e,t,c){},25:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},67:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),r=c(23),n=c.n(r),o=(c(46),c(47),c(3)),i=c.n(o),l=c(5),j=c(2),b=(c(25),c(14),c(4)),u=c(6),d=c.n(u),p=(c(67),c(0));var h=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"outer",children:Object(p.jsx)("div",{className:"loader"})})})};var O=function(e){var t=e.history,c=Object(a.useState)(""),s=Object(j.a)(c,2),r=s[0],n=s[1],o=Object(a.useState)(""),u=Object(j.a)(o,2),O=u[0],m=u[1],x=Object(a.useState)(""),g=Object(j.a)(x,2),f=g[0],v=g[1],y=Object(a.useState)(!1),N=Object(j.a)(y,2),_=N[0],S=N[1],k=function(){var e=Object(l.a)(i.a.mark((function e(){var c,a,s,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),c={user:r,password:O},a={headers:{"Content-Type":"application/json"}},e.prev=3,e.next=6,d.a.post("".concat("https://dot-blog.herokuapp.com","/login"),c,a);case 6:if(s=e.sent,S(!1),200==s.status){e.next=10;break}throw Error(s);case 10:n={user_id:s.data._id,username:s.data.username,profile__photo:s.data.profile_photo,cover__photo:s.data.cover_photo},sessionStorage.setItem("UserData",JSON.stringify(n)),null==(o=sessionStorage.getItem("UserData"))?console.log("empty"):JSON.parse(o),t.push("/"),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(3),S(!1),v("*"+e.t0.response.data.message),console.log(e.t0.response.data.message);case 22:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[_?Object(p.jsx)(h,{}):"",Object(p.jsx)("div",{className:"register-container",children:Object(p.jsxs)("div",{className:"register-div",children:[Object(p.jsx)("h1",{children:".blog"}),Object(p.jsx)("input",{type:"text",value:r,onChange:function(e){return n(e.target.value)},placeholder:"Username",required:!0}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"password",value:O,onChange:function(e){return m(e.target.value)},placeholder:"Password",required:!0}),Object(p.jsx)("br",{}),Object(p.jsx)("span",{style:{color:"red",fontSize:"14px"},children:f}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{className:"register-btn",onClick:k,children:"Login"}),Object(p.jsx)("br",{}),Object(p.jsx)(b.b,{to:"/forgot",id:"title",style:{color:"grey"},children:"Forgot Password?"}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsxs)("span",{style:{color:"grey"},children:["Don't have an account?         ",Object(p.jsx)(b.b,{to:"/signup",id:"title",style:{color:"#5ee0aa"},children:"Sign Up"})]})]})})]})};var m=function(e){var t=e.history,c=Object(a.useState)(""),s=Object(j.a)(c,2),r=s[0],n=s[1],o=Object(a.useState)(""),u=Object(j.a)(o,2),O=u[0],m=u[1],x=Object(a.useState)(""),g=Object(j.a)(x,2),f=g[0],v=g[1],y=Object(a.useState)(""),N=Object(j.a)(y,2),_=N[0],S=N[1],k=Object(a.useState)(!1),w=Object(j.a)(k,2),C=w[0],F=w[1],T=function(){var e=Object(l.a)(i.a.mark((function e(){var c,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F(!0),c={user:r,password:f,email:O},a={headers:{"Content-Type":"application/json"}},e.prev=3,!(r.trim().length<1||f.trim().length<1||O.trim().length<1)){e.next=8;break}return S("*Fill all the fields"),F(!1),e.abrupt("return");case 8:return e.next=10,d.a.post("".concat("https://dot-blog.herokuapp.com","/signup"),c,a);case 10:s=e.sent,F(!1),S(""),t.push("/".concat(s.data,"/verify")),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(3),F(!1),S("*"+e.t0.response.data.message),console.log(e.t0.response.data.message);case 21:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[C?Object(p.jsx)(h,{}):"",Object(p.jsx)("div",{className:"register-container",children:Object(p.jsxs)("div",{className:"register-div",children:[Object(p.jsx)("h1",{children:".blog"}),Object(p.jsx)("input",{type:"text",value:r,onChange:function(e){return n(e.target.value)},placeholder:"Username",required:!0}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"email",value:O,onChange:function(e){return m(e.target.value)},placeholder:"Email"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"password",value:f,onChange:function(e){return v(e.target.value)},placeholder:"Password",required:!0}),Object(p.jsx)("br",{}),Object(p.jsx)("span",{style:{color:"red",fontSize:"14px"},children:_}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{className:"register-btn",onClick:T,children:"Sign Up"}),Object(p.jsx)("br",{}),Object(p.jsxs)("span",{style:{color:"grey"},children:["Have an account? ",Object(p.jsx)(b.b,{to:"/login",id:"title",style:{color:"#5ee0aa"},children:"Login"})]})]})})]})},x=c(7);c(74);var g=function(e){var t=e.history,c=Object(a.useState)(""),s=Object(j.a)(c,2),r=s[0],n=s[1],o=Object(a.useState)(!1),b=Object(j.a)(o,2),u=b[0],O=b[1],m=Object(x.g)(),g=function(){var e=Object(l.a)(i.a.mark((function e(){var c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),c={id:m.id,otp:r},a={headers:{"Content-Type":"application/json"}},!(r.trim().length<1)){e.next=6;break}return O(!1),e.abrupt("return");case 6:return e.prev=6,e.next=9,d.a.post("".concat("https://dot-blog.herokuapp.com","/verify"),c,a);case 9:e.sent,O(!1),t.push("/login"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),O(!1),f(e.t0.response.data.message);case 18:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(){return e.apply(this,arguments)}}();function f(e){alert(e),t.push("/signup")}return Object(p.jsxs)(p.Fragment,{children:[u?Object(p.jsx)(h,{}):"",Object(p.jsx)("div",{className:"register-container",children:Object(p.jsxs)("div",{className:"register-div",children:[Object(p.jsx)("h2",{style:{color:"#5ee0aa"},children:"Enter OTP"}),Object(p.jsx)("p",{style:{color:"red"},children:"*otp is send to your email address"}),Object(p.jsx)("input",{type:"text",value:r,style:{marginTop:"0px"},onChange:function(e){return n(e.target.value)},placeholder:"Enter OTP",required:!0}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{className:"register-btn",style:{marginTop:"0px"},onClick:g,children:"Verify"}),Object(p.jsx)("br",{})]})})]})};c(35);var f=function(e){var t=e.history,c=Object(a.useState)(""),s=Object(j.a)(c,2),r=s[0],n=s[1],o=Object(a.useState)(""),b=Object(j.a)(o,2),u=b[0],O=b[1],m=Object(a.useState)(!1),x=Object(j.a)(m,2),g=x[0],f=x[1],v=function(){var e=Object(l.a)(i.a.mark((function e(){var c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),c={email:r},a={headers:{"Content-Type":"application/json"}},!(r.trim().length<1)){e.next=6;break}return f(!1),e.abrupt("return");case 6:return e.prev=6,e.next=9,d.a.post("".concat("https://dot-blog.herokuapp.com","/forgot"),c,a);case 9:e.sent,f(!1),t.push("/login"),e.next=20;break;case 14:e.prev=14,e.t0=e.catch(6),f(!1),O("*"+e.t0.response.data.message),console.log(e.t0.response.data.message),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[g?Object(p.jsx)(h,{}):"",Object(p.jsx)("div",{className:"forget-container",children:Object(p.jsxs)("div",{className:"register-div",children:[Object(p.jsx)("h2",{style:{color:"#5ee0aa"},children:"Forget Password"}),Object(p.jsx)("input",{type:"email",value:r,style:{marginTop:"20px"},onChange:function(e){return n(e.target.value)},placeholder:"Enter Email",required:!0}),Object(p.jsx)("br",{}),Object(p.jsx)("span",{style:{color:"red",fontSize:"14px"},children:u}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{className:"register-btn",style:{marginTop:"0px"},onClick:v,children:"Send Mail"}),Object(p.jsx)("br",{})]})})]})};var v=function(e){var t=e.history,c=Object(a.useState)(""),s=Object(j.a)(c,2),r=s[0],n=s[1],o=Object(a.useState)(""),b=Object(j.a)(o,2),u=b[0],O=b[1],m=Object(a.useState)(""),g=Object(j.a)(m,2),f=g[0],v=g[1],y=Object(a.useState)(!1),N=Object(j.a)(y,2),_=N[0],S=N[1],k=Object(x.g)(),w=function(){var e=Object(l.a)(i.a.mark((function e(){var t,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(!0),r!=u){e.next=21;break}if(t={pass:r,cpass:u,id:k.id},c={headers:{"Content-Type":"application/json"}},!(r.trim().length<1||u.trim().length<1)){e.next=7;break}return S(!1),e.abrupt("return");case 7:return e.prev=7,e.next=10,d.a.post("".concat("https://dot-blog.herokuapp.com","/reset"),t,c);case 10:e.sent,S(!1),C("Password Updated."),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(7),S(!1),console.log(e.t0);case 19:e.next=22;break;case 21:v("*Confirmation password doesn't matched");case 22:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(){return e.apply(this,arguments)}}();function C(e){S(!1),alert(e),t.push("/login")}return Object(p.jsxs)(p.Fragment,{children:[_?Object(p.jsx)(h,{}):"",Object(p.jsx)("div",{className:"forget-container",children:Object(p.jsxs)("div",{className:"register-div",children:[Object(p.jsx)("h2",{style:{color:"#5ee0aa"},children:".blog"}),Object(p.jsx)("input",{type:"password",value:r,onChange:function(e){return n(e.target.value)},placeholder:"Password",required:!0}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"password",value:u,onChange:function(e){return O(e.target.value)},placeholder:"Confirm Password",required:!0}),Object(p.jsx)("br",{}),Object(p.jsx)("span",{style:{color:"red",fontSize:"14px"},children:f}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{className:"register-btn",style:{marginTop:"0px"},onClick:w,children:"Submit"}),Object(p.jsx)("br",{})]})})]})};c(75),c(76);var y=function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"dropdown",children:[Object(p.jsxs)("div",{className:"user",children:[Object(p.jsx)("div",{className:"dp",children:Object(p.jsx)("img",{src:e.image})}),Object(p.jsx)("div",{className:"username",children:e.username})]}),Object(p.jsxs)("div",{className:"dropdown-content",children:[Object(p.jsx)(b.b,{className:"dropdown-link",to:"/admin",children:"Profile"}),Object(p.jsx)(b.b,{className:"dropdown-link",onClick:function(){sessionStorage.removeItem("UserData")},to:"/",children:"Logout"})]})]})})};var N=function(){var e=Object(a.useState)({user_id:"",username:"",profile__photo:"",cover__photo:""}),t=Object(j.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){var e=sessionStorage.getItem("UserData");if(null==e)console.log("empty"),s({});else{var t=JSON.parse(e),c={user_id:t.user_id,username:t.username,profile__photo:t.profile__photo,cover__photo:t.cover__photo};s(c)}}),[]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("nav",{children:[Object(p.jsx)("div",{className:"innerdiv1",children:Object(p.jsx)(b.b,{to:"/",id:"title",className:"logo",children:".blog"})}),Object(p.jsx)("div",{className:"innerdiv2",children:0===Object.keys(c).length?Object(p.jsx)(b.b,{to:"/login",id:"title",style:{fontSize:"2rem"},className:"logo",children:"Login"}):Object(p.jsx)(y,{username:c.username,image:c.profile__photo})})]})})};c(36),c(21);var _=function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(b.b,{to:"/view/blog/".concat(e.blog_id),className:"link-btn ",children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("div",{className:"card-img",children:Object(p.jsx)("img",{src:e.image})}),Object(p.jsxs)("div",{className:"card-container",children:[Object(p.jsx)(b.b,{to:"/category/".concat(e.category),className:"link-btn ",children:Object(p.jsx)("p",{className:"post-text",children:e.category})}),Object(p.jsx)("h6",{className:"post-heading",children:e.title}),Object(p.jsx)(b.b,{to:"/Author/".concat(e.author_id),className:"link-btn ",children:Object(p.jsxs)("p",{className:"post-text",children:["Author: ",e.author]})}),Object(p.jsxs)("p",{className:"post-detail",children:[e.body," "]})]})]})})})};var S=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],r=Object(a.useState)(!1),n=Object(j.a)(r,2),o=n[0],u=n[1];Object(a.useEffect)(Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,d.a.get("".concat("https://dot-blog.herokuapp.com","/get/posts")).then((function(e){s(e.data)})).catch((function(e){console.log(e)}));case 3:u(!1);case 4:case"end":return e.stop()}}),e)}))),[]);var O=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N,{}),o?Object(p.jsx)(h,{}):"",Object(p.jsx)("div",{className:"banner",children:Object(p.jsx)("h1",{children:".blog"})}),Object(p.jsxs)("div",{className:"home-outerdiv",children:[Object(p.jsx)("div",{className:"home-inner1",children:Object(p.jsxs)("div",{className:"categories",children:[Object(p.jsx)(b.b,{to:"/create/post",className:"create-btn",children:"CREATE BLOG"}),Object(p.jsxs)("table",{children:[Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/",className:"link-btn ",children:"All categories"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Music",className:"link-btn ",children:"Music"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Movies",className:"link-btn ",children:"Movies"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Sports",className:"link-btn ",children:"Sports"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Tech",className:"link-btn ",children:"Tech"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Fashion",className:"link-btn ",children:"Fashion"})})," "]})]})]})}),Object(p.jsx)("div",{className:"home-inner2",children:c.length<=0?"No Post Available":Object(p.jsx)(p.Fragment,{children:c.map((function(e){return Object(p.jsx)(_,{image:e.image,category:e.category,title:e.title,author:e.username,body:e.body,author_id:e.userid,blog_id:e._id,filter:O})}))})})]})]})};c(37);var k=function(e){e.history;var t=Object(a.useState)(!1),c=Object(j.a)(t,2),s=c[0],r=c[1],n=Object(x.g)(),o=Object(a.useState)([]),b=Object(j.a)(o,2),u=b[0],O=b[1];return Object(a.useEffect)(Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,d.a.get("".concat("https://dot-blog.herokuapp.com","/user/").concat(n.id)).then((function(e){O(e.data),r(!1)})).catch((function(e){console.log(e),r(!1)}));case 3:case"end":return e.stop()}}),e)}))),[]),Object(p.jsxs)(p.Fragment,{children:[s?Object(p.jsx)(h,{}):"",Object(p.jsx)(N,{}),Object(p.jsxs)("div",{className:"profile-banner",children:[Object(p.jsx)("img",{className:"cover-photo",src:u.cover_photo}),Object(p.jsxs)("div",{className:"user-info",children:[Object(p.jsx)("div",{className:"profile-inner1",children:Object(p.jsx)("img",{src:u.profile_photo})}),Object(p.jsx)("div",{className:"profile-inner2",children:Object(p.jsxs)("h1",{children:[u.username,Object(p.jsx)("br",{}),Object(p.jsx)("br",{})]})})]})]}),Object(p.jsx)("div",{className:"posts_div",children:u.length<=0?"No Post Available":Object(p.jsx)(p.Fragment,{children:u.posts.map((function(e){return Object(p.jsx)(_,{image:e.image,category:e.category,title:e.title,author:e.username,body:e.body,blog_id:e._id})}))})})]})};var w=function(e){var t=e.history,c=Object(a.useState)({}),s=Object(j.a)(c,2),r=s[0],n=s[1],o=Object(a.useState)(!1),u=Object(j.a)(o,2),O=u[0],m=u[1],g=(Object(x.g)(),Object(a.useState)([])),f=Object(j.a)(g,2),v=f[0],y=f[1];return Object(a.useEffect)(Object(l.a)(i.a.mark((function e(){var c,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(c=sessionStorage.getItem("UserData"))){e.next=7;break}console.log("empty"),n({}),t.push("/login"),e.next=12;break;case 7:return a=JSON.parse(c),s={user_id:a.user_id,username:a.username,profile__photo:a.profile__photo,cover__photo:a.cover__photo},n(s),e.next=12,d.a.get("".concat("https://dot-blog.herokuapp.com","/admin/").concat(a.user_id)).then((function(e){y(e.data),m(!1)})).catch((function(e){console.log(e),m(!1)}));case 12:case"end":return e.stop()}}),e)}))),[]),Object(p.jsx)(p.Fragment,{children:O?Object(p.jsx)(h,{}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N,{}),Object(p.jsxs)("div",{className:"profile-banner",children:[Object(p.jsx)("img",{className:"cover-photo",src:r.cover__photo}),Object(p.jsxs)("div",{className:"user-info",children:[Object(p.jsx)("div",{className:"profile-inner1",children:Object(p.jsx)("img",{src:r.profile__photo})}),Object(p.jsx)("div",{className:"profile-inner2",children:Object(p.jsxs)("h1",{children:[r.username,Object(p.jsx)("br",{}),Object(p.jsx)("br",{})]})})]}),Object(p.jsxs)("div",{className:"profile-controls",children:["Edit Profile",Object(p.jsxs)("div",{className:"dropdown-controls",children:[Object(p.jsx)(b.b,{className:"controls-link",to:"/update_profile_photo",children:"Profile Photo"}),Object(p.jsx)(b.b,{className:"controls-link",to:"/update_cover_photo",children:"Cover Photo"})]})]}),Object(p.jsx)("div",{className:"posts_div",children:v.length<=0?"No Post Available":Object(p.jsx)(p.Fragment,{children:v.posts.map((function(e){return Object(p.jsx)(_,{image:e.image,category:e.category,title:e.title,author:e.username,body:e.body,blog_id:e._id})}))})})]})]})})};c(38);var C=function(e){var t=e.history,c=Object(a.useState)({}),s=Object(j.a)(c,2),r=s[0],n=s[1],o=Object(a.useState)(""),b=Object(j.a)(o,2),u=b[0],O=b[1],m=Object(a.useState)(""),x=Object(j.a)(m,2),g=x[0],f=x[1],v=Object(a.useState)(!1),y=Object(j.a)(v,2),N=y[0],_=y[1];Object(a.useEffect)((function(){var e=sessionStorage.getItem("UserData"),t=JSON.parse(e);f(t.user_id)}),[]);var S=function(){var e=Object(l.a)(i.a.mark((function e(c){var a,s,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),c.preventDefault(),(a=new FormData).append("name",u),a.append("profile",r),s={headers:{"Content-Type":"multipart/form-data"}},e.prev=6,e.next=9,d.a.post("".concat("https://dot-blog.herokuapp.com","/profilephoto/").concat(g),a,s);case 9:return n=e.sent,o={user_id:n.data._id,username:n.data.username,profile__photo:n.data.profile_photo,cover__photo:n.data.cover_photo},e.next=13,sessionStorage.setItem("UserData",JSON.stringify(o));case 13:alert("Profile Updated :)"),_(!1),t.push("/"),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(6),_(!1),alert(e.t0.response.data.message),console.log(e.t0.response.data.message);case 23:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[N?Object(p.jsx)(h,{}):"",Object(p.jsxs)("div",{className:"photo-upload",children:[Object(p.jsx)("i",{className:"fas fa-cloud-upload-alt"}),Object(p.jsxs)("form",{onSubmit:S,encType:"multipart/form-data",children:[Object(p.jsx)("input",{type:"file",accept:".png, .jpg, .jpeg",name:"photo",onChange:function(e){n(e.target.files[0]),O(e.target.files[0].name)},id:"file",className:"inputfile"}),Object(p.jsx)("label",{className:"inputfile-label",for:"file",children:0==u.length?"Choose a file":u}),Object(p.jsx)("br",{}),0==u.length?"":Object(p.jsx)("button",{type:"submit",className:"btn-upload",children:"Upload"})]})]})]})};var F=function(e){var t=e.history,c=Object(a.useState)({}),s=Object(j.a)(c,2),r=s[0],n=s[1],o=Object(a.useState)(""),b=Object(j.a)(o,2),u=b[0],O=b[1],m=Object(a.useState)(""),x=Object(j.a)(m,2),g=x[0],f=x[1],v=Object(a.useState)(!1),y=Object(j.a)(v,2),N=y[0],_=y[1];Object(a.useEffect)((function(){var e=sessionStorage.getItem("UserData"),t=JSON.parse(e);f(t.user_id)}),[]);var S=function(){var e=Object(l.a)(i.a.mark((function e(c){var a,s,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),c.preventDefault(),(a=new FormData).append("name",u),a.append("cover",r),s={headers:{"Content-Type":"multipart/form-data"}},e.prev=6,e.next=9,d.a.post("".concat("https://dot-blog.herokuapp.com","/coverphoto/").concat(g),a,s);case 9:return n=e.sent,o={user_id:n.data._id,username:n.data.username,profile__photo:n.data.profile_photo,cover__photo:n.data.cover_photo},e.next=13,sessionStorage.setItem("UserData",JSON.stringify(o));case 13:alert("Profile Updated :)"),_(!1),t.push("/"),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(6),_(!1),alert(e.t0.response.data.message),console.log(e.t0.response.data.message);case 23:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[N?Object(p.jsx)(h,{}):"",Object(p.jsxs)("div",{className:"photo-upload",children:[Object(p.jsx)("i",{className:"fas fa-cloud-upload-alt"}),Object(p.jsxs)("form",{onSubmit:S,encType:"multipart/form-data",children:[Object(p.jsx)("input",{type:"file",accept:".png, .jpg, .jpeg",name:"photo",onChange:function(e){n(e.target.files[0]),O(e.target.files[0].name)},id:"file",className:"inputfile"}),Object(p.jsx)("label",{className:"inputfile-label",for:"file",children:0==u.length?"Choose a file":u}),Object(p.jsx)("br",{}),0==u.length?"":Object(p.jsx)("button",{type:"submit",className:"btn-upload",children:"Upload"})]})]})]})},T=c(15),P=(c(22),"https://dot-blog.herokuapp.com");var D=function(e){var t,c=e.history,s=Object(a.useState)(""),r=Object(j.a)(s,2),n=r[0],o=r[1],b=Object(a.useState)(""),u=Object(j.a)(b,2),O=u[0],m=u[1],x=Object(a.useState)(""),g=Object(j.a)(x,2),f=g[0],v=g[1],y=Object(a.useState)(""),_=Object(j.a)(y,2),S=_[0],k=_[1],w=Object(a.useState)(!1),C=Object(j.a)(w,2),F=C[0],D=C[1],U=Object(a.useState)(""),E=Object(j.a)(U,2),q=E[0],A=E[1],I=Object(a.useState)(""),J=Object(j.a)(I,2),M=J[0],L=J[1],R=Object(a.useState)(""),B=Object(j.a)(R,2),H=B[0],Q=B[1],W=Object(a.useState)(""),z=Object(j.a)(W,2),G=z[0],Y=z[1];Object(a.useEffect)((function(){var e=sessionStorage.getItem("UserData");if(null==e)console.log("empty"),Q(""),Y(""),c.push("/login");else{var t=JSON.parse(e);Q(t.user_id),Y(t.username)}}),[]);var V=function(){var e=Object(l.a)(i.a.mark((function e(t){var c,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),t.preventDefault(),(c=new FormData).append("name",S),c.append("blog_img",O),a={headers:{"Content-Type":"multipart/form-data"}},e.prev=6,e.next=9,d.a.post("".concat(P,"/photo/blog"),c,a);case 9:return s=e.sent,e.next=12,v(s.data);case 12:k(""),D(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),console.log(e.t0),D(!1);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(!0),t.preventDefault(),!(f.trim().length<1)){e.next=6;break}return Z("Please Upload img"),D(!1),e.abrupt("return");case 6:if(!(q.trim().length<1)){e.next=10;break}return Z("Your Title field is empty!!"),D(!1),e.abrupt("return");case 10:if(!(M.trim().length<1)){e.next=14;break}return Z("Your Blog field is empty!!"),D(!1),e.abrupt("return");case 14:if(!(n.trim().length<1)){e.next=18;break}return Z("Please select category!!"),D(!1),e.abrupt("return");case 18:return a={user:G,userid:H,image:f,category:n,title:q,blog:M},s={headers:{"Content-Type":"application/json"}},e.prev=20,e.next=23,d.a.post("".concat(P,"/post/blog"),a,s);case 23:e.sent,Z("Blog Uploaded Successfully :)"),D(!1),c.push("/"),e.next=34;break;case 29:e.prev=29,e.t0=e.catch(20),D(!1),Z("*"+e.t0.response.data.message),console.log(e.t0.response.data.message);case 34:case"end":return e.stop()}}),e,null,[[20,29]])})));return function(t){return e.apply(this,arguments)}}();function Z(e){alert(e)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N,{}),F?Object(p.jsx)(h,{}):"",Object(p.jsxs)("div",{className:"create-blog-outer",children:[Object(p.jsx)("div",{className:"dummy_div"}),Object(p.jsx)("div",{className:"image_div",children:f.length>0?Object(p.jsx)("img",{className:"blog-image",src:f}):Object(p.jsx)("img",{className:"blog-image",src:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQacFQdbOawHrPLccZTIPijoRJ7oFoaW7V9ckq7-KDlmSuhLwER"})}),Object(p.jsxs)("div",{className:"image_category",children:[Object(p.jsx)("div",{className:"up_img",children:Object(p.jsxs)("form",{onSubmit:V,encType:"multipart/form-data",children:[Object(p.jsx)("label",{for:"img",children:"Upload Image:"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",(t={type:"file",accept:".png, .jpg, .jpeg",id:"img",name:"img"},Object(T.a)(t,"accept","image/*"),Object(T.a)(t,"onChange",(function(e){e.target.files.length>0&&(m(e.target.files[0]),k(e.target.files[0].name))})),t)),Object(p.jsx)("br",{}),S.length>0?Object(p.jsx)("button",{className:"upload_btn",type:"submit",children:"Upload"}):""]})}),Object(p.jsxs)("div",{className:"select_category",children:[Object(p.jsx)("label",{for:"category",style:{marginRight:"10px"},children:"Select Category:- "}),Object(p.jsxs)("select",{name:"category",id:"category",onChange:function(e){return o(e.target.value)},children:[Object(p.jsx)("option",{value:""}),Object(p.jsx)("option",{value:"Movies",children:"Movies"}),Object(p.jsx)("option",{value:"Sports",children:"Sports"}),Object(p.jsx)("option",{value:"Tech",children:"Tech"}),Object(p.jsx)("option",{value:"Fashion",children:"Fashion"}),Object(p.jsx)("option",{value:"Other",children:"Other"})]}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{})]})]}),Object(p.jsxs)("form",{onSubmit:K,children:[Object(p.jsx)("input",{className:"title",type:"text",value:q,onChange:function(e){return A(e.target.value)},placeholder:"Title",required:!0}),Object(p.jsx)("textarea",{className:"blog",type:"text",value:M,onChange:function(e){return L(e.target.value)},placeholder:"Write your Blog Here...",contenteditable:!0,required:!0}),Object(p.jsx)("button",{type:"submit",className:"publish_btn",children:"Publish"})]})]})]})};c(77);var U=function(e){return e.history,Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"error_outer_div",children:Object(p.jsxs)("div",{className:"error_inner_div",children:[Object(p.jsx)("div",{className:"sad_icon",children:Object(p.jsx)("h1",{children:":("})}),Object(p.jsxs)("div",{className:"message_div",children:[Object(p.jsx)("h1",{children:"404"}),Object(p.jsx)("h6",{children:"Oops! Something went wrong."}),Object(p.jsx)("br",{}),Object(p.jsx)(b.b,{to:"/",className:"home_btn",children:"Home Page"})]})]})})})},E=(c(78),c(41));var q=function(e){Object(x.g)();var t=Object(x.f)(),c=function(){var c=Object(l.a)(i.a.mark((function c(){return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(E.confirm)("Do You Want To Delete This Post?");case 2:if(!c.sent){c.next=7;break}return c.next=6,d.a.get("".concat("https://dot-blog.herokuapp.com","/remove/").concat(e.Admin_id,"/").concat(e.blog_id)).then((function(e){t.push("/")})).catch((function(e){console.log(e)}));case 6:return c.abrupt("return");case 7:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"create-blog-outer",children:[Object(p.jsx)("div",{className:"dummy_div"}),Object(p.jsx)("div",{className:"view_image_div",children:Object(p.jsx)("img",{className:"view_blog-image",src:e.image})}),e.userid!=e.Admin_id?"":Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"blog_controls",children:[Object(p.jsxs)(b.b,{to:"/edit/".concat(e.blog_id),children:[" ",Object(p.jsx)("i",{className:"fas fa-edit"})]}),Object(p.jsx)("i",{className:"fas fa-trash-alt",onClick:c})]})}),Object(p.jsxs)("div",{className:"about_blog",children:[Object(p.jsxs)("div",{className:"about_blog_1",children:[Object(p.jsxs)("h5",{children:["Author: ",e.author]}),Object(p.jsxs)("h5",{children:["Category: ",e.category]})]}),Object(p.jsx)("div",{className:"about_blog_2",children:Object(p.jsx)("h5",{children:"Date: 8 Jan 2020"})})]}),Object(p.jsxs)("div",{className:"whole_blog",children:[Object(p.jsxs)("h1",{className:"blog_title",children:[e.title," "]}),Object(p.jsx)("br",{}),Object(p.jsx)("p",{className:"blog_body",children:e.body})]})]})})};var A=function(e){e.history;var t=Object(x.g)(),c=Object(a.useState)(!1),s=Object(j.a)(c,2),r=s[0],n=s[1],o=Object(a.useState)([]),b=Object(j.a)(o,2),u=b[0],O=b[1],m=Object(a.useState)(!1),g=Object(j.a)(m,2),f=g[0],v=g[1],y=Object(a.useState)("https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQacFQdbOawHrPLccZTIPijoRJ7oFoaW7V9ckq7-KDlmSuhLwER"),_=Object(j.a)(y,2),S=(_[0],_[1],Object(a.useState)("")),k=Object(j.a)(S,2),w=k[0],C=k[1];return Object(a.useEffect)(Object(l.a)(i.a.mark((function e(){var c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,d.a.get("".concat("https://dot-blog.herokuapp.com","/view/blog/").concat(t.id)).then((function(e){O(e.data),n(!1)})).catch((function(e){console.log(e),n(!1),v(!0)}));case 3:null==(c=sessionStorage.getItem("UserData"))?(console.log("empty"),C("")):(a=JSON.parse(c),C(a.user_id));case 5:case"end":return e.stop()}}),e)}))),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N,{}),r?Object(p.jsx)(h,{}):"",f?Object(p.jsx)(U,{}):Object(p.jsx)(q,{blog_id:u._id,image:u.image,title:u.title,body:u.body,userid:u.userid,category:u.category,author:u.username,Admin_id:w})]})};var I=function(){var e=Object(x.g)(),t=Object(a.useState)([]),c=Object(j.a)(t,2),s=c[0],r=c[1],n=Object(a.useState)(!1),o=Object(j.a)(n,2),u=o[0],O=o[1];Object(a.useEffect)(Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),t.next=3,d.a.get("".concat("https://dot-blog.herokuapp.com","/get/category/").concat(e.option)).then((function(e){r(e.data)})).catch((function(e){console.log(e)}));case 3:O(!1);case 4:case"end":return t.stop()}}),t)}))),[e.option]);var m=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N,{}),u?Object(p.jsx)(h,{}):"",Object(p.jsx)("div",{className:"banner",children:Object(p.jsx)("h1",{children:".blog"})}),Object(p.jsxs)("div",{className:"home-outerdiv",children:[Object(p.jsx)("div",{className:"home-inner1",children:Object(p.jsxs)("div",{className:"categories",children:[Object(p.jsx)(b.b,{to:"/create/post",className:"create-btn",children:"CREATE BLOG"}),Object(p.jsxs)("table",{children:[Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/",className:"link-btn ",children:"All categories"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Music",className:"link-btn ",children:"Music"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Movies",className:"link-btn ",children:"Movies"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Sports",className:"link-btn ",children:"Sports"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Tech",className:"link-btn ",children:"Tech"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Fashion",className:"link-btn ",children:"Fashion"})})," "]})]})]})}),Object(p.jsx)("div",{className:"home-inner2",children:s.length<=0?"No Post Available":Object(p.jsx)(p.Fragment,{children:s.map((function(e){return Object(p.jsx)(_,{image:e.image,category:e.category,title:e.title,author:e.username,body:e.body,blog_id:e._id,filter:m})}))})})]})]})},J="https://dot-blog.herokuapp.com";var M=function(e){var t,c=e.history,s=Object(x.g)(),r=Object(a.useState)(!1),n=Object(j.a)(r,2),o=n[0],b=n[1],u=Object(a.useState)([]),O=Object(j.a)(u,2),m=(O[0],O[1]),g=Object(a.useState)(""),f=Object(j.a)(g,2),v=f[0],y=f[1],_=Object(a.useState)(""),S=Object(j.a)(_,2),k=S[0],w=S[1],C=Object(a.useState)(""),F=Object(j.a)(C,2),P=F[0],D=F[1],U=Object(a.useState)(""),E=Object(j.a)(U,2),q=E[0],A=E[1],I=Object(a.useState)(""),M=Object(j.a)(I,2),L=M[0],R=M[1],B=Object(a.useState)(""),H=Object(j.a)(B,2),Q=H[0],W=H[1];Object(a.useEffect)(Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,d.a.get("".concat(J,"/view/blog/").concat(s.id)).then((function(e){m(e.data),y(e.data.image),W(e.data.category),A(e.data.title),R(e.data.body),b(!1)})).catch((function(e){console.log(e),b(!1)}));case 3:case"end":return e.stop()}}),e)}))),[]);var z=function(){var e=Object(l.a)(i.a.mark((function e(t){var c,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),t.preventDefault(),(c=new FormData).append("name",k),c.append("blog_img",P),a={headers:{"Content-Type":"multipart/form-data"}},e.prev=6,e.next=9,d.a.post("".concat(J,"/photo/blog"),c,a);case 9:return s=e.sent,e.next=12,y(s.data);case 12:w(""),b(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),console.log(e.t0),b(!1);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(v.trim().length<1)){e.next=5;break}return Y("Please Upload img"),b(!1),e.abrupt("return");case 5:if(!(q.trim().length<1)){e.next=9;break}return Y("Your Title field is empty!!"),b(!1),e.abrupt("return");case 9:if(!(L.trim().length<1)){e.next=13;break}return Y("Your Blog field is empty!!"),b(!1),e.abrupt("return");case 13:if(!(Q.trim().length<1)){e.next=17;break}return Y("Please select category!!"),b(!1),e.abrupt("return");case 17:return a={image:v,category:Q,title:q,blog:L},r={headers:{"Content-Type":"application/json"}},e.prev=19,e.next=22,d.a.post("".concat(J,"/update/blog/").concat(s.id),a,r);case 22:e.sent,Y("Blog Uploaded Successfully :)"),b(!1),c.push("/view/blog/".concat(s.id)),e.next=33;break;case 28:e.prev=28,e.t0=e.catch(19),b(!1),Y("*"+e.t0.response.data.message),console.log(e.t0.response.data.message);case 33:case"end":return e.stop()}}),e,null,[[19,28]])})));return function(t){return e.apply(this,arguments)}}();function Y(e){alert(e)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N,{}),o?Object(p.jsx)(h,{}):"",Object(p.jsxs)("div",{className:"create-blog-outer",children:[Object(p.jsx)("div",{className:"dummy_div"}),Object(p.jsx)("div",{className:"image_div",children:v.length>0?Object(p.jsx)("img",{className:"blog-image",src:v}):Object(p.jsx)("img",{className:"blog-image",src:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQacFQdbOawHrPLccZTIPijoRJ7oFoaW7V9ckq7-KDlmSuhLwER"})}),Object(p.jsxs)("div",{className:"image_category",children:[Object(p.jsx)("div",{className:"up_img",children:Object(p.jsxs)("form",{onSubmit:z,encType:"multipart/form-data",children:[Object(p.jsx)("label",{for:"img",children:"Change Image:"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",(t={type:"file",accept:".png, .jpg, .jpeg",id:"img",name:"img"},Object(T.a)(t,"accept","image/*"),Object(T.a)(t,"onChange",(function(e){e.target.files.length>0&&(D(e.target.files[0]),w(e.target.files[0].name))})),t)),Object(p.jsx)("br",{}),k.length>0?Object(p.jsx)("button",{className:"upload_btn",type:"submit",children:"Upload"}):""]})}),Object(p.jsxs)("div",{className:"select_category",children:[Object(p.jsx)("label",{for:"category",style:{marginRight:"10px"},children:"Select Category:- "}),Object(p.jsxs)("select",{name:"category",id:"category",value:Q,onChange:function(e){return W(e.target.value)},children:[Object(p.jsx)("option",{value:""}),Object(p.jsx)("option",{value:"Movies",children:"Movies"}),Object(p.jsx)("option",{value:"Sports",children:"Sports"}),Object(p.jsx)("option",{value:"Tech",children:"Tech"}),Object(p.jsx)("option",{value:"Fashion",children:"Fashion"}),Object(p.jsx)("option",{value:"Other",children:"Other"})]}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{})]})]}),Object(p.jsxs)("form",{onSubmit:G,children:[Object(p.jsx)("input",{className:"title",type:"text",value:q,onChange:function(e){return A(e.target.value)},placeholder:"Title",required:!0}),Object(p.jsx)("textarea",{className:"blog",type:"text",value:L,onChange:function(e){return R(e.target.value)},placeholder:"Write your Blog Here...",contenteditable:!0,required:!0}),Object(p.jsx)("button",{type:"submit",className:"publish_btn",children:"Publish"})]})]})]})};var L=function(){return Object(p.jsx)(b.a,{children:Object(p.jsxs)(x.c,{children:[Object(p.jsx)(x.a,{exact:!0,path:"/",component:S}),Object(p.jsx)(x.a,{exact:!0,path:"/category/:option",component:I}),Object(p.jsx)(x.a,{exact:!0,path:"/edit/:id",component:M}),Object(p.jsx)(x.a,{exact:!0,path:"/Author/:id",component:k}),Object(p.jsx)(x.a,{exact:!0,path:"/create/post",component:D}),Object(p.jsx)(x.a,{exact:!0,path:"/view/blog/:id",component:A}),Object(p.jsx)(x.a,{exact:!0,path:"/update_profile_photo",component:C}),Object(p.jsx)(x.a,{exact:!0,path:"/update_cover_photo",component:F}),Object(p.jsx)(x.a,{exact:!0,path:"/admin",component:w}),Object(p.jsx)(x.a,{exact:!0,path:"/:id/reset",component:v}),Object(p.jsx)(x.a,{exact:!0,path:"/forgot",component:f}),Object(p.jsx)(x.a,{exact:!0,path:"/login",component:O}),Object(p.jsx)(x.a,{exact:!0,path:"/:id/verify",component:g}),Object(p.jsx)(x.a,{exact:!0,path:"/signup",component:m})]})})};n.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(L,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.f6082019.chunk.js.map