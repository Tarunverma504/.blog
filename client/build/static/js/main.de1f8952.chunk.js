(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{21:function(e,t,a){},22:function(e,t,a){},25:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},67:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var c=a(1),r=a.n(c),s=a(23),n=a.n(s),o=(a(46),a(47),a(3)),i=a.n(o),l=a(5),j=a(2),b=(a(25),a(14),a(4)),u=a(6),d=a.n(u),p=(a(67),a(0));var h=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"outer",children:Object(p.jsx)("div",{className:"loader"})})})};var O=function(e){var t=e.history,a=Object(c.useState)(""),r=Object(j.a)(a,2),s=r[0],n=r[1],o=Object(c.useState)(""),u=Object(j.a)(o,2),O=u[0],m=u[1],x=Object(c.useState)(""),g=Object(j.a)(x,2),f=g[0],v=g[1],y=Object(c.useState)(!1),N=Object(j.a)(y,2),_=N[0],S=N[1],k=function(){var e=Object(l.a)(i.a.mark((function e(){var a,c,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),a={user:s,password:O},c={headers:{"Content-Type":"application/json"}},e.prev=3,e.next=6,d.a.post("".concat("https://dot-blog.herokuapp.com","/login"),a,c);case 6:if(r=e.sent,S(!1),200===r.status){e.next=10;break}throw Error(r);case 10:n={user_id:r.data._id,username:r.data.username,profile__photo:r.data.profile_photo,cover__photo:r.data.cover_photo},sessionStorage.setItem("UserData",JSON.stringify(n)),null==sessionStorage.getItem("UserData")&&console.log("empty"),t.push("/"),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(3),S(!1),v("*"+e.t0.response.data.message),console.log(e.t0.response.data.message);case 22:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[_?Object(p.jsx)(h,{}):"",Object(p.jsx)("div",{className:"register-container",children:Object(p.jsxs)("div",{className:"register-div",children:[Object(p.jsx)("h1",{children:".blog"}),Object(p.jsx)("input",{type:"text",value:s,onChange:function(e){return n(e.target.value)},placeholder:"Username",required:!0}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"password",value:O,onChange:function(e){return m(e.target.value)},placeholder:"Password",required:!0}),Object(p.jsx)("br",{}),Object(p.jsx)("span",{style:{color:"red",fontSize:"14px"},children:f}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{className:"register-btn",onClick:k,children:"Login"}),Object(p.jsx)("br",{}),Object(p.jsx)(b.b,{to:"/forgot",id:"title",style:{color:"grey"},children:"Forgot Password?"}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsxs)("span",{style:{color:"grey"},children:["Don't have an account?         ",Object(p.jsx)(b.b,{to:"/signup",id:"title",style:{color:"#5ee0aa"},children:"Sign Up"})]})]})})]})};var m=function(e){var t=e.history,a=Object(c.useState)(""),r=Object(j.a)(a,2),s=r[0],n=r[1],o=Object(c.useState)(""),u=Object(j.a)(o,2),O=u[0],m=u[1],x=Object(c.useState)(""),g=Object(j.a)(x,2),f=g[0],v=g[1],y=Object(c.useState)(""),N=Object(j.a)(y,2),_=N[0],S=N[1],k=Object(c.useState)(!1),w=Object(j.a)(k,2),C=w[0],F=w[1],T=function(){var e=Object(l.a)(i.a.mark((function e(){var a,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F(!0),a={user:s,password:f,email:O},c={headers:{"Content-Type":"application/json"}},e.prev=3,!(s.trim().length<1||f.trim().length<1||O.trim().length<1)){e.next=8;break}return S("*Fill all the fields"),F(!1),e.abrupt("return");case 8:return e.next=10,d.a.post("".concat("https://dot-blog.herokuapp.com","/signup"),a,c);case 10:r=e.sent,F(!1),S(""),t.push("/".concat(r.data,"/verify")),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(3),F(!1),S("*"+e.t0.response.data.message),console.log(e.t0.response.data.message);case 21:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[C?Object(p.jsx)(h,{}):"",Object(p.jsx)("div",{className:"register-container",children:Object(p.jsxs)("div",{className:"register-div",children:[Object(p.jsx)("h1",{children:".blog"}),Object(p.jsx)("input",{type:"text",value:s,onChange:function(e){return n(e.target.value)},placeholder:"Username",required:!0}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"email",value:O,onChange:function(e){return m(e.target.value)},placeholder:"Email"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"password",value:f,onChange:function(e){return v(e.target.value)},placeholder:"Password",required:!0}),Object(p.jsx)("br",{}),Object(p.jsx)("span",{style:{color:"red",fontSize:"14px"},children:_}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{className:"register-btn",onClick:T,children:"Sign Up"}),Object(p.jsx)("br",{}),Object(p.jsxs)("span",{style:{color:"grey"},children:["Have an account? ",Object(p.jsx)(b.b,{to:"/login",id:"title",style:{color:"#5ee0aa"},children:"Login"})]})]})})]})},x=a(7);a(74);var g=function(e){var t=e.history,a=Object(c.useState)(""),r=Object(j.a)(a,2),s=r[0],n=r[1],o=Object(c.useState)(!1),b=Object(j.a)(o,2),u=b[0],O=b[1],m=Object(x.g)(),g=function(){var e=Object(l.a)(i.a.mark((function e(){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),a={id:m.id,otp:s},c={headers:{"Content-Type":"application/json"}},!(s.trim().length<1)){e.next=6;break}return O(!1),e.abrupt("return");case 6:return e.prev=6,e.next=9,d.a.post("".concat("https://dot-blog.herokuapp.com","/verify"),a,c);case 9:O(!1),t.push("/login"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),O(!1),f(e.t0.response.data.message);case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}();function f(e){alert(e),t.push("/signup")}return Object(p.jsxs)(p.Fragment,{children:[u?Object(p.jsx)(h,{}):"",Object(p.jsx)("div",{className:"register-container",children:Object(p.jsxs)("div",{className:"register-div",children:[Object(p.jsx)("h2",{style:{color:"#5ee0aa"},children:"Enter OTP"}),Object(p.jsx)("p",{style:{color:"red"},children:"*otp is send to your email address"}),Object(p.jsx)("input",{type:"text",value:s,style:{marginTop:"0px"},onChange:function(e){return n(e.target.value)},placeholder:"Enter OTP",required:!0}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{className:"register-btn",style:{marginTop:"0px"},onClick:g,children:"Verify"}),Object(p.jsx)("br",{})]})})]})};a(35);var f=function(e){var t=e.history,a=Object(c.useState)(""),r=Object(j.a)(a,2),s=r[0],n=r[1],o=Object(c.useState)(""),b=Object(j.a)(o,2),u=b[0],O=b[1],m=Object(c.useState)(!1),x=Object(j.a)(m,2),g=x[0],f=x[1],v=function(){var e=Object(l.a)(i.a.mark((function e(){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),a={email:s},c={headers:{"Content-Type":"application/json"}},!(s.trim().length<1)){e.next=6;break}return f(!1),e.abrupt("return");case 6:return e.prev=6,e.next=9,d.a.post("".concat("https://dot-blog.herokuapp.com","/forgot"),a,c);case 9:f(!1),t.push("/login"),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(6),f(!1),O("*"+e.t0.response.data.message),console.log(e.t0.response.data.message),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[g?Object(p.jsx)(h,{}):"",Object(p.jsx)("div",{className:"forget-container",children:Object(p.jsxs)("div",{className:"register-div",children:[Object(p.jsx)("h2",{style:{color:"#5ee0aa"},children:"Forget Password"}),Object(p.jsx)("input",{type:"email",value:s,style:{marginTop:"20px"},onChange:function(e){return n(e.target.value)},placeholder:"Enter Email",required:!0}),Object(p.jsx)("br",{}),Object(p.jsx)("span",{style:{color:"red",fontSize:"14px"},children:u}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{className:"register-btn",style:{marginTop:"0px"},onClick:v,children:"Send Mail"}),Object(p.jsx)("br",{})]})})]})};var v=function(e){var t=e.history,a=Object(c.useState)(""),r=Object(j.a)(a,2),s=r[0],n=r[1],o=Object(c.useState)(""),b=Object(j.a)(o,2),u=b[0],O=b[1],m=Object(c.useState)(""),g=Object(j.a)(m,2),f=g[0],v=g[1],y=Object(c.useState)(!1),N=Object(j.a)(y,2),_=N[0],S=N[1],k=Object(x.g)(),w=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(!0),s!==u){e.next=20;break}if(t={pass:s,cpass:u,id:k.id},a={headers:{"Content-Type":"application/json"}},!(s.trim().length<1||u.trim().length<1)){e.next=7;break}return S(!1),e.abrupt("return");case 7:return e.prev=7,e.next=10,d.a.post("".concat("https://dot-blog.herokuapp.com","/reset"),t,a);case 10:S(!1),C("Password Updated."),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),S(!1),console.log(e.t0);case 18:e.next=21;break;case 20:v("*Confirmation password doesn't matched");case 21:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(){return e.apply(this,arguments)}}();function C(e){S(!1),alert(e),t.push("/login")}return Object(p.jsxs)(p.Fragment,{children:[_?Object(p.jsx)(h,{}):"",Object(p.jsx)("div",{className:"forget-container",children:Object(p.jsxs)("div",{className:"register-div",children:[Object(p.jsx)("h2",{style:{color:"#5ee0aa"},children:".blog"}),Object(p.jsx)("input",{type:"password",value:s,onChange:function(e){return n(e.target.value)},placeholder:"Password",required:!0}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"password",value:u,onChange:function(e){return O(e.target.value)},placeholder:"Confirm Password",required:!0}),Object(p.jsx)("br",{}),Object(p.jsx)("span",{style:{color:"red",fontSize:"14px"},children:f}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{className:"register-btn",style:{marginTop:"0px"},onClick:w,children:"Submit"}),Object(p.jsx)("br",{})]})})]})};a(75),a(76);var y=function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"dropdown",children:[Object(p.jsxs)("div",{className:"user",children:[Object(p.jsx)("div",{className:"dp",children:Object(p.jsx)("img",{src:e.image,allt:"image not found"})}),Object(p.jsx)("div",{className:"username",children:e.username})]}),Object(p.jsxs)("div",{className:"dropdown-content",children:[Object(p.jsx)(b.b,{className:"dropdown-link",to:"/admin",children:"Profile"}),Object(p.jsx)(b.b,{className:"dropdown-link",onClick:function(){sessionStorage.removeItem("UserData")},to:"/",children:"Logout"})]})]})})};var N=function(){var e=Object(c.useState)({user_id:"",username:"",profile__photo:"",cover__photo:""}),t=Object(j.a)(e,2),a=t[0],r=t[1];return Object(c.useEffect)((function(){var e=sessionStorage.getItem("UserData");if(null==e)console.log("empty"),r({});else{var t=JSON.parse(e),a={user_id:t.user_id,username:t.username,profile__photo:t.profile__photo,cover__photo:t.cover__photo};r(a)}}),[]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("nav",{children:[Object(p.jsx)("div",{className:"innerdiv1",children:Object(p.jsx)(b.b,{to:"/",id:"title",className:"logo",children:".blog"})}),Object(p.jsx)("div",{className:"innerdiv2",children:0===Object.keys(a).length?Object(p.jsx)(b.b,{to:"/login",id:"title",style:{fontSize:"2rem"},className:"logo",children:"Login"}):Object(p.jsx)(y,{username:a.username,image:a.profile__photo})})]})})};a(36),a(21);var _=function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(b.b,{to:"/view/blog/".concat(e.blog_id),className:"link-btn ",children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("div",{className:"card-img",children:Object(p.jsx)("img",{src:e.image})}),Object(p.jsxs)("div",{className:"card-container",children:[Object(p.jsx)(b.b,{to:"/category/".concat(e.category),className:"link-btn ",children:Object(p.jsx)("p",{className:"post-text",children:e.category})}),Object(p.jsx)("h6",{className:"post-heading",children:e.title}),Object(p.jsx)(b.b,{to:"/Author/".concat(e.author_id),className:"link-btn ",children:Object(p.jsxs)("p",{className:"post-text",children:["Author: ",e.author]})}),Object(p.jsxs)("p",{className:"post-detail",children:[e.body," "]})]})]})})})};var S=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(!1),n=Object(j.a)(s,2),o=n[0],u=n[1];Object(c.useEffect)(Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,d.a.get("".concat("https://dot-blog.herokuapp.com","/get/posts")).then((function(e){r(e.data)})).catch((function(e){console.log(e)}));case 3:u(!1);case 4:case"end":return e.stop()}}),e)}))),[]);var O=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N,{}),o?Object(p.jsx)(h,{}):"",Object(p.jsx)("div",{className:"banner",children:Object(p.jsx)("h1",{children:".blog"})}),Object(p.jsxs)("div",{className:"home-outerdiv",children:[Object(p.jsx)("div",{className:"home-inner1",children:Object(p.jsxs)("div",{className:"categories",children:[Object(p.jsx)(b.b,{to:"/create/post",className:"create-btn",children:"CREATE BLOG"}),Object(p.jsxs)("table",{children:[Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/",className:"link-btn ",children:"All categories"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Music",className:"link-btn ",children:"Music"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Movies",className:"link-btn ",children:"Movies"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Sports",className:"link-btn ",children:"Sports"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Tech",className:"link-btn ",children:"Tech"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Fashion",className:"link-btn ",children:"Fashion"})})," "]})]})]})}),Object(p.jsx)("div",{className:"home-inner2",children:a.length<=0?"No Post Available":Object(p.jsx)(p.Fragment,{children:a.map((function(e){return Object(p.jsx)(_,{image:e.image,category:e.category,title:e.title,author:e.username,body:e.body,author_id:e.userid,blog_id:e._id,filter:O})}))})})]})]})};a(37);var k=function(e){e.history;var t=Object(c.useState)(!1),a=Object(j.a)(t,2),r=a[0],s=a[1],n=Object(x.g)(),o=Object(c.useState)([]),b=Object(j.a)(o,2),u=b[0],O=b[1];return Object(c.useEffect)(Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,d.a.get("".concat("https://dot-blog.herokuapp.com","/user/").concat(n.id)).then((function(e){O(e.data),s(!1)})).catch((function(e){console.log(e),s(!1)}));case 3:case"end":return e.stop()}}),e)}))),[]),Object(p.jsxs)(p.Fragment,{children:[r?Object(p.jsx)(h,{}):"",Object(p.jsx)(N,{}),Object(p.jsxs)("div",{className:"profile-banner",children:[Object(p.jsx)("img",{className:"cover-photo",src:u.cover_photo}),Object(p.jsxs)("div",{className:"user-info",children:[Object(p.jsx)("div",{className:"profile-inner1",children:Object(p.jsx)("img",{src:u.profile_photo})}),Object(p.jsx)("div",{className:"profile-inner2",children:Object(p.jsxs)("h1",{children:[u.username,Object(p.jsx)("br",{}),Object(p.jsx)("br",{})]})})]})]}),Object(p.jsx)("div",{className:"posts_div",children:u.length<=0?"No Post Available":Object(p.jsx)(p.Fragment,{children:u.posts.map((function(e){return Object(p.jsx)(_,{image:e.image,category:e.category,title:e.title,author:e.username,body:e.body,blog_id:e._id})}))})})]})};var w=function(e){var t=e.history,a=Object(c.useState)({}),r=Object(j.a)(a,2),s=r[0],n=r[1],o=Object(c.useState)(!1),u=Object(j.a)(o,2),O=u[0],m=u[1],g=(Object(x.g)(),Object(c.useState)([])),f=Object(j.a)(g,2),v=f[0],y=f[1];return Object(c.useEffect)(Object(l.a)(i.a.mark((function e(){var a,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(a=sessionStorage.getItem("UserData"))){e.next=7;break}console.log("empty"),n({}),t.push("/login"),e.next=12;break;case 7:return c=JSON.parse(a),r={user_id:c.user_id,username:c.username,profile__photo:c.profile__photo,cover__photo:c.cover__photo},n(r),e.next=12,d.a.get("".concat("https://dot-blog.herokuapp.com","/admin/").concat(c.user_id)).then((function(e){y(e.data),m(!1)})).catch((function(e){console.log(e),m(!1)}));case 12:case"end":return e.stop()}}),e)}))),[]),Object(p.jsx)(p.Fragment,{children:O?Object(p.jsx)(h,{}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N,{}),Object(p.jsxs)("div",{className:"profile-banner",children:[Object(p.jsx)("img",{className:"cover-photo",src:s.cover__photo}),Object(p.jsxs)("div",{className:"user-info",children:[Object(p.jsx)("div",{className:"profile-inner1",children:Object(p.jsx)("img",{src:s.profile__photo})}),Object(p.jsx)("div",{className:"profile-inner2",children:Object(p.jsxs)("h1",{children:[s.username,Object(p.jsx)("br",{}),Object(p.jsx)("br",{})]})})]}),Object(p.jsxs)("div",{className:"profile-controls",children:["Edit Profile",Object(p.jsxs)("div",{className:"dropdown-controls",children:[Object(p.jsx)(b.b,{className:"controls-link",to:"/update_profile_photo",children:"Profile Photo"}),Object(p.jsx)(b.b,{className:"controls-link",to:"/update_cover_photo",children:"Cover Photo"})]})]}),Object(p.jsx)("div",{className:"posts_div",children:v.length<=0?"No Post Available":Object(p.jsx)(p.Fragment,{children:v.posts.map((function(e){return Object(p.jsx)(_,{image:e.image,category:e.category,title:e.title,author:e.username,body:e.body,blog_id:e._id})}))})})]})]})})};a(38);var C=function(e){var t=e.history,a=Object(c.useState)({}),r=Object(j.a)(a,2),s=r[0],n=r[1],o=Object(c.useState)(""),b=Object(j.a)(o,2),u=b[0],O=b[1],m=Object(c.useState)(""),x=Object(j.a)(m,2),g=x[0],f=x[1],v=Object(c.useState)(!1),y=Object(j.a)(v,2),N=y[0],_=y[1];Object(c.useEffect)((function(){var e=sessionStorage.getItem("UserData"),t=JSON.parse(e);f(t.user_id)}),[]);var S=function(){var e=Object(l.a)(i.a.mark((function e(a){var c,r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),a.preventDefault(),(c=new FormData).append("name",u),c.append("profile",s),r={headers:{"Content-Type":"multipart/form-data"}},e.prev=6,e.next=9,d.a.post("".concat("https://dot-blog.herokuapp.com","/profilephoto/").concat(g),c,r);case 9:return n=e.sent,o={user_id:n.data._id,username:n.data.username,profile__photo:n.data.profile_photo,cover__photo:n.data.cover_photo},e.next=13,sessionStorage.setItem("UserData",JSON.stringify(o));case 13:alert("Profile Updated :)"),_(!1),t.push("/"),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(6),_(!1),alert(e.t0.response.data.message),console.log(e.t0.response.data.message);case 23:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[N?Object(p.jsx)(h,{}):"",Object(p.jsxs)("div",{className:"photo-upload",children:[Object(p.jsx)("i",{className:"fas fa-cloud-upload-alt"}),Object(p.jsxs)("form",{onSubmit:S,encType:"multipart/form-data",children:[Object(p.jsx)("input",{type:"file",accept:".png, .jpg, .jpeg",name:"photo",onChange:function(e){n(e.target.files[0]),O(e.target.files[0].name)},id:"file",className:"inputfile"}),Object(p.jsx)("label",{className:"inputfile-label",for:"file",children:0==u.length?"Choose a file":u}),Object(p.jsx)("br",{}),0==u.length?"":Object(p.jsx)("button",{type:"submit",className:"btn-upload",children:"Upload"})]})]})]})};var F=function(e){var t=e.history,a=Object(c.useState)({}),r=Object(j.a)(a,2),s=r[0],n=r[1],o=Object(c.useState)(""),b=Object(j.a)(o,2),u=b[0],O=b[1],m=Object(c.useState)(""),x=Object(j.a)(m,2),g=x[0],f=x[1],v=Object(c.useState)(!1),y=Object(j.a)(v,2),N=y[0],_=y[1];Object(c.useEffect)((function(){var e=sessionStorage.getItem("UserData"),t=JSON.parse(e);f(t.user_id)}),[]);var S=function(){var e=Object(l.a)(i.a.mark((function e(a){var c,r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),a.preventDefault(),(c=new FormData).append("name",u),c.append("cover",s),r={headers:{"Content-Type":"multipart/form-data"}},e.prev=6,e.next=9,d.a.post("".concat("https://dot-blog.herokuapp.com","/coverphoto/").concat(g),c,r);case 9:return n=e.sent,o={user_id:n.data._id,username:n.data.username,profile__photo:n.data.profile_photo,cover__photo:n.data.cover_photo},e.next=13,sessionStorage.setItem("UserData",JSON.stringify(o));case 13:alert("Profile Updated :)"),_(!1),t.push("/"),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(6),_(!1),alert(e.t0.response.data.message),console.log(e.t0.response.data.message);case 23:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[N?Object(p.jsx)(h,{}):"",Object(p.jsxs)("div",{className:"photo-upload",children:[Object(p.jsx)("i",{className:"fas fa-cloud-upload-alt"}),Object(p.jsxs)("form",{onSubmit:S,encType:"multipart/form-data",children:[Object(p.jsx)("input",{type:"file",accept:".png, .jpg, .jpeg",name:"photo",onChange:function(e){n(e.target.files[0]),O(e.target.files[0].name)},id:"file",className:"inputfile"}),Object(p.jsx)("label",{className:"inputfile-label",for:"file",children:0==u.length?"Choose a file":u}),Object(p.jsx)("br",{}),0==u.length?"":Object(p.jsx)("button",{type:"submit",className:"btn-upload",children:"Upload"})]})]})]})},T=a(15),P=(a(22),"https://dot-blog.herokuapp.com");var D=function(e){var t,a=e.history,r=Object(c.useState)(""),s=Object(j.a)(r,2),n=s[0],o=s[1],b=Object(c.useState)(""),u=Object(j.a)(b,2),O=u[0],m=u[1],x=Object(c.useState)(""),g=Object(j.a)(x,2),f=g[0],v=g[1],y=Object(c.useState)(""),_=Object(j.a)(y,2),S=_[0],k=_[1],w=Object(c.useState)(!1),C=Object(j.a)(w,2),F=C[0],D=C[1],U=Object(c.useState)(""),E=Object(j.a)(U,2),q=E[0],A=E[1],I=Object(c.useState)(""),J=Object(j.a)(I,2),M=J[0],L=J[1],R=Object(c.useState)(""),B=Object(j.a)(R,2),H=B[0],Q=B[1],W=Object(c.useState)(""),z=Object(j.a)(W,2),G=z[0],Y=z[1];Object(c.useEffect)((function(){var e=sessionStorage.getItem("UserData");if(null==e)console.log("empty"),Q(""),Y(""),a.push("/login");else{var t=JSON.parse(e);Q(t.user_id),Y(t.username)}}),[]);var V=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),t.preventDefault(),(a=new FormData).append("name",S),a.append("blog_img",O),c={headers:{"Content-Type":"multipart/form-data"}},e.prev=6,e.next=9,d.a.post("".concat(P,"/photo/blog"),a,c);case 9:return r=e.sent,e.next=12,v(r.data);case 12:k(""),D(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),console.log(e.t0),D(!1);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(i.a.mark((function e(t){var c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(!0),t.preventDefault(),!(f.trim().length<1)){e.next=6;break}return Z("Please Upload img"),D(!1),e.abrupt("return");case 6:if(!(q.trim().length<1)){e.next=10;break}return Z("Your Title field is empty!!"),D(!1),e.abrupt("return");case 10:if(!(M.trim().length<1)){e.next=14;break}return Z("Your Blog field is empty!!"),D(!1),e.abrupt("return");case 14:if(!(n.trim().length<1)){e.next=18;break}return Z("Please select category!!"),D(!1),e.abrupt("return");case 18:return c={user:G,userid:H,image:f,category:n,title:q,blog:M},r={headers:{"Content-Type":"application/json"}},e.prev=20,e.next=23,d.a.post("".concat(P,"/post/blog"),c,r);case 23:Z("Blog Uploaded Successfully :)"),D(!1),a.push("/"),e.next=33;break;case 28:e.prev=28,e.t0=e.catch(20),D(!1),Z("*"+e.t0.response.data.message),console.log(e.t0.response.data.message);case 33:case"end":return e.stop()}}),e,null,[[20,28]])})));return function(t){return e.apply(this,arguments)}}();function Z(e){alert(e)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N,{}),F?Object(p.jsx)(h,{}):"",Object(p.jsxs)("div",{className:"create-blog-outer",children:[Object(p.jsx)("div",{className:"dummy_div"}),Object(p.jsx)("div",{className:"image_div",children:f.length>0?Object(p.jsx)("img",{className:"blog-image",src:f,alt:"image not found"}):Object(p.jsx)("img",{className:"blog-image",src:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQacFQdbOawHrPLccZTIPijoRJ7oFoaW7V9ckq7-KDlmSuhLwER",alt:"image not found"})}),Object(p.jsxs)("div",{className:"image_category",children:[Object(p.jsx)("div",{className:"up_img",children:Object(p.jsxs)("form",{onSubmit:V,encType:"multipart/form-data",children:[Object(p.jsx)("label",{for:"img",children:"Upload Image:"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",(t={type:"file",accept:".png, .jpg, .jpeg",id:"img",name:"img"},Object(T.a)(t,"accept","image/*"),Object(T.a)(t,"onChange",(function(e){e.target.files.length>0&&(m(e.target.files[0]),k(e.target.files[0].name))})),t)),Object(p.jsx)("br",{}),S.length>0?Object(p.jsx)("button",{className:"upload_btn",type:"submit",children:"Upload"}):""]})}),Object(p.jsxs)("div",{className:"select_category",children:[Object(p.jsx)("label",{for:"category",style:{marginRight:"10px"},children:"Select Category:- "}),Object(p.jsxs)("select",{name:"category",id:"category",onChange:function(e){return o(e.target.value)},children:[Object(p.jsx)("option",{value:""}),Object(p.jsx)("option",{value:"Movies",children:"Movies"}),Object(p.jsx)("option",{value:"Sports",children:"Sports"}),Object(p.jsx)("option",{value:"Tech",children:"Tech"}),Object(p.jsx)("option",{value:"Fashion",children:"Fashion"}),Object(p.jsx)("option",{value:"Other",children:"Other"})]}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{})]})]}),Object(p.jsxs)("form",{onSubmit:K,children:[Object(p.jsx)("input",{className:"title",type:"text",value:q,onChange:function(e){return A(e.target.value)},placeholder:"Title",required:!0}),Object(p.jsx)("textarea",{className:"blog",type:"text",value:M,onChange:function(e){return L(e.target.value)},placeholder:"Write your Blog Here...",contenteditable:!0,required:!0}),Object(p.jsx)("button",{type:"submit",className:"publish_btn",children:"Publish"})]})]})]})};a(77);var U=function(e){return e.history,Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"error_outer_div",children:Object(p.jsxs)("div",{className:"error_inner_div",children:[Object(p.jsx)("div",{className:"sad_icon",children:Object(p.jsx)("h1",{children:":("})}),Object(p.jsxs)("div",{className:"message_div",children:[Object(p.jsx)("h1",{children:"404"}),Object(p.jsx)("h6",{children:"Oops! Something went wrong."}),Object(p.jsx)("br",{}),Object(p.jsx)(b.b,{to:"/",className:"home_btn",children:"Home Page"})]})]})})})},E=(a(78),a(41));var q=function(e){Object(x.g)();var t=Object(x.f)(),a=function(){var a=Object(l.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(E.confirm)("Do You Want To Delete This Post?");case 2:if(!a.sent){a.next=7;break}return a.next=6,d.a.get("".concat("https://dot-blog.herokuapp.com","/remove/").concat(e.Admin_id,"/").concat(e.blog_id)).then((function(e){t.push("/")})).catch((function(e){console.log(e)}));case 6:return a.abrupt("return");case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"create-blog-outer",children:[Object(p.jsx)("div",{className:"dummy_div"}),Object(p.jsx)("div",{className:"view_image_div",children:Object(p.jsx)("img",{className:"view_blog-image",src:e.image})}),e.userid!=e.Admin_id?"":Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"blog_controls",children:[Object(p.jsxs)(b.b,{to:"/edit/".concat(e.blog_id),children:[" ",Object(p.jsx)("i",{className:"fas fa-edit"})]}),Object(p.jsx)("i",{className:"fas fa-trash-alt",onClick:a})]})}),Object(p.jsxs)("div",{className:"about_blog",children:[Object(p.jsxs)("div",{className:"about_blog_1",children:[Object(p.jsxs)("h5",{children:["Author: ",e.author]}),Object(p.jsxs)("h5",{children:["Category: ",e.category]})]}),Object(p.jsx)("div",{className:"about_blog_2",children:Object(p.jsx)("h5",{children:e.date})})]}),Object(p.jsxs)("div",{className:"whole_blog",children:[Object(p.jsxs)("h1",{className:"blog_title",children:[e.title," "]}),Object(p.jsx)("br",{}),Object(p.jsx)("p",{className:"blog_body",children:e.body})]})]})})};var A=function(e){e.history;var t=Object(x.g)(),a=Object(c.useState)(!1),r=Object(j.a)(a,2),s=r[0],n=r[1],o=Object(c.useState)([]),b=Object(j.a)(o,2),u=b[0],O=b[1],m=Object(c.useState)(!1),g=Object(j.a)(m,2),f=g[0],v=g[1],y=Object(c.useState)("https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQacFQdbOawHrPLccZTIPijoRJ7oFoaW7V9ckq7-KDlmSuhLwER"),_=Object(j.a)(y,2),S=(_[0],_[1],Object(c.useState)("")),k=Object(j.a)(S,2),w=k[0],C=k[1];return Object(c.useEffect)(Object(l.a)(i.a.mark((function e(){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,d.a.get("".concat("https://dot-blog.herokuapp.com","/view/blog/").concat(t.id)).then((function(e){O(e.data),n(!1)})).catch((function(e){console.log(e),n(!1),v(!0)}));case 3:null==(a=sessionStorage.getItem("UserData"))?(console.log("empty"),C("")):(c=JSON.parse(a),C(c.user_id));case 5:case"end":return e.stop()}}),e)}))),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N,{}),s?Object(p.jsx)(h,{}):"",f?Object(p.jsx)(U,{}):Object(p.jsx)(q,{blog_id:u._id,image:u.image,title:u.title,body:u.body,userid:u.userid,category:u.category,author:u.username,Admin_id:w,date:u.Date})]})};var I=function(){var e=Object(x.g)(),t=Object(c.useState)([]),a=Object(j.a)(t,2),r=a[0],s=a[1],n=Object(c.useState)(!1),o=Object(j.a)(n,2),u=o[0],O=o[1];Object(c.useEffect)(Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),t.next=3,d.a.get("".concat("https://dot-blog.herokuapp.com","/get/category/").concat(e.option)).then((function(e){s(e.data)})).catch((function(e){console.log(e)}));case 3:O(!1);case 4:case"end":return t.stop()}}),t)}))),[e.option]);var m=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N,{}),u?Object(p.jsx)(h,{}):"",Object(p.jsx)("div",{className:"banner",children:Object(p.jsx)("h1",{children:".blog"})}),Object(p.jsxs)("div",{className:"home-outerdiv",children:[Object(p.jsx)("div",{className:"home-inner1",children:Object(p.jsxs)("div",{className:"categories",children:[Object(p.jsx)(b.b,{to:"/create/post",className:"create-btn",children:"CREATE BLOG"}),Object(p.jsxs)("table",{children:[Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/",className:"link-btn ",children:"All categories"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Music",className:"link-btn ",children:"Music"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Movies",className:"link-btn ",children:"Movies"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Sports",className:"link-btn ",children:"Sports"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Tech",className:"link-btn ",children:"Tech"})})," "]}),Object(p.jsxs)("tr",{children:[" ",Object(p.jsx)("td",{children:Object(p.jsx)(b.b,{to:"/category/Fashion",className:"link-btn ",children:"Fashion"})})," "]})]})]})}),Object(p.jsx)("div",{className:"home-inner2",children:r.length<=0?"No Post Available":Object(p.jsx)(p.Fragment,{children:r.map((function(e){return Object(p.jsx)(_,{image:e.image,category:e.category,title:e.title,author:e.username,body:e.body,blog_id:e._id,filter:m})}))})})]})]})},J="https://dot-blog.herokuapp.com";var M=function(e){var t,a=e.history,r=Object(x.g)(),s=Object(c.useState)(!1),n=Object(j.a)(s,2),o=n[0],b=n[1],u=Object(c.useState)(""),O=Object(j.a)(u,2),m=O[0],g=O[1],f=Object(c.useState)(""),v=Object(j.a)(f,2),y=v[0],_=v[1],S=Object(c.useState)(""),k=Object(j.a)(S,2),w=k[0],C=k[1],F=Object(c.useState)(""),P=Object(j.a)(F,2),D=P[0],U=P[1],E=Object(c.useState)(""),q=Object(j.a)(E,2),A=q[0],I=q[1],M=Object(c.useState)(""),L=Object(j.a)(M,2),R=L[0],B=L[1];Object(c.useEffect)(Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,d.a.get("".concat(J,"/view/blog/").concat(r.id)).then((function(e){g(e.data.image),B(e.data.category),U(e.data.title),I(e.data.body),b(!1)})).catch((function(e){console.log(e),b(!1)}));case 3:case"end":return e.stop()}}),e)}))),[]);var H=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),t.preventDefault(),(a=new FormData).append("name",y),a.append("blog_img",w),c={headers:{"Content-Type":"multipart/form-data"}},e.prev=6,e.next=9,d.a.post("".concat(J,"/photo/blog"),a,c);case 9:return r=e.sent,e.next=12,g(r.data);case 12:_(""),b(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),console.log(e.t0),b(!1);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(i.a.mark((function e(t){var c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(m.trim().length<1)){e.next=5;break}return W("Please Upload img"),b(!1),e.abrupt("return");case 5:if(!(D.trim().length<1)){e.next=9;break}return W("Your Title field is empty!!"),b(!1),e.abrupt("return");case 9:if(!(A.trim().length<1)){e.next=13;break}return W("Your Blog field is empty!!"),b(!1),e.abrupt("return");case 13:if(!(R.trim().length<1)){e.next=17;break}return W("Please select category!!"),b(!1),e.abrupt("return");case 17:return c={image:m,category:R,title:D,blog:A},s={headers:{"Content-Type":"application/json"}},e.prev=19,e.next=22,d.a.post("".concat(J,"/update/blog/").concat(r.id),c,s);case 22:e.sent,W("Blog Uploaded Successfully :)"),b(!1),a.push("/view/blog/".concat(r.id)),e.next=33;break;case 28:e.prev=28,e.t0=e.catch(19),b(!1),W("*"+e.t0.response.data.message),console.log(e.t0.response.data.message);case 33:case"end":return e.stop()}}),e,null,[[19,28]])})));return function(t){return e.apply(this,arguments)}}();function W(e){alert(e)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N,{}),o?Object(p.jsx)(h,{}):"",Object(p.jsxs)("div",{className:"create-blog-outer",children:[Object(p.jsx)("div",{className:"dummy_div"}),Object(p.jsx)("div",{className:"image_div",children:m.length>0?Object(p.jsx)("img",{className:"blog-image",src:m,alt:"image not fount"}):Object(p.jsx)("img",{className:"blog-image",src:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQacFQdbOawHrPLccZTIPijoRJ7oFoaW7V9ckq7-KDlmSuhLwER",alt:"image not fount"})}),Object(p.jsxs)("div",{className:"image_category",children:[Object(p.jsx)("div",{className:"up_img",children:Object(p.jsxs)("form",{onSubmit:H,encType:"multipart/form-data",children:[Object(p.jsx)("label",{for:"img",children:"Change Image:"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",(t={type:"file",accept:".png, .jpg, .jpeg",id:"img",name:"img"},Object(T.a)(t,"accept","image/*"),Object(T.a)(t,"onChange",(function(e){e.target.files.length>0&&(C(e.target.files[0]),_(e.target.files[0].name))})),t)),Object(p.jsx)("br",{}),y.length>0?Object(p.jsx)("button",{className:"upload_btn",type:"submit",children:"Upload"}):""]})}),Object(p.jsxs)("div",{className:"select_category",children:[Object(p.jsx)("label",{for:"category",style:{marginRight:"10px"},children:"Select Category:- "}),Object(p.jsxs)("select",{name:"category",id:"category",value:R,onChange:function(e){return B(e.target.value)},children:[Object(p.jsx)("option",{value:""}),Object(p.jsx)("option",{value:"Movies",children:"Movies"}),Object(p.jsx)("option",{value:"Sports",children:"Sports"}),Object(p.jsx)("option",{value:"Tech",children:"Tech"}),Object(p.jsx)("option",{value:"Fashion",children:"Fashion"}),Object(p.jsx)("option",{value:"Other",children:"Other"})]}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{})]})]}),Object(p.jsxs)("form",{onSubmit:Q,children:[Object(p.jsx)("input",{className:"title",type:"text",value:D,onChange:function(e){return U(e.target.value)},placeholder:"Title",required:!0}),Object(p.jsx)("textarea",{className:"blog",type:"text",value:A,onChange:function(e){return I(e.target.value)},placeholder:"Write your Blog Here...",contenteditable:!0,required:!0}),Object(p.jsx)("button",{type:"submit",className:"publish_btn",children:"Publish"})]})]})]})};var L=function(){return Object(p.jsx)(b.a,{children:Object(p.jsxs)(x.c,{children:[Object(p.jsx)(x.a,{exact:!0,path:"/",component:S}),Object(p.jsx)(x.a,{exact:!0,path:"/category/:option",component:I}),Object(p.jsx)(x.a,{exact:!0,path:"/edit/:id",component:M}),Object(p.jsx)(x.a,{exact:!0,path:"/Author/:id",component:k}),Object(p.jsx)(x.a,{exact:!0,path:"/create/post",component:D}),Object(p.jsx)(x.a,{exact:!0,path:"/view/blog/:id",component:A}),Object(p.jsx)(x.a,{exact:!0,path:"/update_profile_photo",component:C}),Object(p.jsx)(x.a,{exact:!0,path:"/update_cover_photo",component:F}),Object(p.jsx)(x.a,{exact:!0,path:"/admin",component:w}),Object(p.jsx)(x.a,{exact:!0,path:"/:id/reset",component:v}),Object(p.jsx)(x.a,{exact:!0,path:"/forgot",component:f}),Object(p.jsx)(x.a,{exact:!0,path:"/login",component:O}),Object(p.jsx)(x.a,{exact:!0,path:"/:id/verify",component:g}),Object(p.jsx)(x.a,{exact:!0,path:"/signup",component:m})]})})};n.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(L,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.de1f8952.chunk.js.map